(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e4cce"],{9287:function(e,a,n){"use strict";n.r(a),n.d(a,"default",(function(){return u}));n("d9e2"),n("d3b7");var t=n("6eee"),i=n("ed09"),o=n("2fa3"),c=n("854b");function u(){var e=Object(i["d"])().proxy,a=Object(t["b"])(),n=Object(i["i"])(),u=Object(i["i"])(),d=Object(i["i"])(!1),r=Object(i["i"])(!1),l=Object(i["h"])({email:"",password:"",phone:"",captcha:""}),s=Object(i["h"])({email:[{required:!0,message:e.$t("LOGIN.TITLE2"),validator:h}],password:[{required:!0,message:e.$t("LOGIN.TITLE3"),min:6}]}),p=Object(i["h"])({phone:[{required:!0,message:e.$t("LOGIN.TITLE5"),min:11}],captcha:[{required:!0,message:e.$t("LOGIN.TITLE6"),max:6}]}),h=function(a,n,t){Object(o["e"])(n)&&t(),t(new Error(e.$t("LOGIN.TITLE4")))},m=Object(i["h"])({email:"",password:"",phone:"",captcha:""});function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email";"email"===t?n.value.validate((function(n){n&&(r.value||(r.value=!0,Object(o["b"])(m),a.dispatch(c["a"],{email:l.email,password:l.password,phone_number:l.phone,verification_code:l.captcha}).then((function(a){200!==a.code&&(m.password=e.$t("LOGIN.WRONG_PASSWORD"))})).finally((function(){setTimeout((function(){r.value=!1}),1e3)}))))})):"phone"===t&&u.value.validate((function(n){n&&(d.value||(d.value=!0,Object(o["b"])(m),a.dispatch(c["a"],{email:l.email,password:l.password,phone_number:l.phone,verification_code:l.captcha}).then((function(a){200!==a.code&&(m.captcha=e.$t("LOGIN.WRONG_PHONE"))})).finally((function(){setTimeout((function(){d.value=!1}),1e3)}))))}))}function b(n){u.value.validateField("phone",(function(t){t||d.value||(d.value=!0,Object(o["b"])(m),a.dispatch(c["f"],{phone_number:l.phone}).then((function(a){200!==a.code?m.captcha=e.$t("LOGIN.WRONG_PHONE"):(d.value=!1,n())})))}))}return{loginEmailFormRef:n,loginPhoneFormRef:u,formData:l,loading:d,smsCodeLoading:r,emailRules:s,phoneRules:p,errors:m,handleSubmit:O,sendCaptchaCode:b}}}}]);