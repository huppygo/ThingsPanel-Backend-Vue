(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a577cb52"],{"239d":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"table-title h3 font-weight-bolder m-0 pt-2"},[t._t("default")],2)},n=[],s={name:"TableTitle"},i=s,l=a("2877"),o=Object(l["a"])(i,r,n,!1,null,"2001a59c",null);e["a"]=o.exports},"3cfe":function(t,e,a){"use strict";a("a9e3"),a("d3b7"),a("25f0");var r=a("2b0e");r["default"].mixin({methods:{formatDate:function(t){var e=1e3*parseInt(t),a=new Date(e),r=a.getFullYear(),n=a.getMonth()+1;n=n<10?"0"+n:n;var s=a.getDate();s=s<10?"0"+s:s;var i=a.getHours();i=i<10?"0"+i:i;var l=a.getMinutes();l=l<10?"0"+l:l;var o=a.getSeconds();o=o<10?"0"+o:o;var c=r+"-"+n+"-"+s+" "+i+":"+l+":"+o;return c},jsonTypeConvert:function(t,e){var a=(null===t||void 0===t?void 0:t.toLowerCase())||"";return"float"===a||"integer"===a||"number"===a?Number(e):e.toString()}}})},"7c4f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rounded card p-4"},[a("el-row",{staticClass:"pt-3 pb-3 px-3",attrs:{type:"flex",gutter:20}},[a("el-col",{attrs:{span:12}},[a("TableTitle",[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.NOTICERECORD")))])],1)],1),a("el-row",{staticClass:"pt-3 pb-4 px-3 el-dark-input",attrs:{type:"flex",gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticClass:"w-100",attrs:{"picker-options":t.DatePickerOptions,"value-format":"timestamp",type:"datetimerange","start-placeholder":t.$t("DATA_MANAGEMENT.PLACEHOLDER5"),"range-separator":t.$t("DATA_MANAGEMENT.PLACEHOLDER6"),"end-placeholder":t.$t("DATA_MANAGEMENT.PLACEHOLDER7")},on:{change:function(e){return t.handleSearch()},clear:function(e){return t.handleSearch()}},model:{value:t.params.dateTimeRange,callback:function(e){t.$set(t.params,"dateTimeRange",e)},expression:"params.dateTimeRange"}})],1),a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.PLACEHOLDER.RECORD_TYPE"),clearable:""},on:{change:t.handleSearch},model:{value:t.params.notification_type,callback:function(e){t.$set(t.params,"notification_type",e)},expression:"params.notification_type"}},[a("el-option",{attrs:{value:0,label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.AII")}}),a("el-option",{attrs:{value:1,label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.SMS")}}),a("el-option",{attrs:{value:2,label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.EMAIL")}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.PLACEHOLDER.PLACEHOLDER"),clearable:""},on:{clear:function(e){return t.handleSearch()}},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch()}},model:{value:t.params.receive_target,callback:function(e){t.$set(t.params,"receive_target",e)},expression:"params.receive_target"}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData},scopedSlots:t._u([{key:"empty",fn:function(){return[a("div",[t._v(t._s(t.$t("COMMON.TABLE_NO_DATA")))])]},proxy:!0}])},[a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.SENDTIME"),prop:"send_time",width:"230px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.row.send_time))+" ")]}}])}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.SENDCONTENT"),prop:"send_content"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.RECIPIENT"),prop:"send_target"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.SENDRESUIT"),prop:"send_result",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.send_result?a("p",{staticClass:"table-describe mad"},[t._v(t._s(t.$t("COMMON.SUCCESS")))]):t._e(),2===e.row.send_result?a("p",{staticClass:"table-describe mad"},[t._v(t._s(t.$t("COMMON.FAILED")))]):t._e()]}}])}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.TYPE"),prop:"notification_type",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.notification_type?a("p",[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.SMS")))]):t._e(),2==e.row.notification_type?a("p",[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.NOTICERECORD_MANAGEMENT.EMAIL")))]):t._e()]}}])})],1),a("div",{staticClass:"text-right py-3"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.params.current_page,"page-size":t.params.per_page},on:{"update:currentPage":function(e){return t.$set(t.params,"current_page",e)},"update:current-page":function(e){return t.$set(t.params,"current_page",e)},"current-change":t.getRecordList}})],1)],1)},n=[],s=(a("d3b7"),a("25f0"),a("a9e3"),a("239d")),i=a("18a6");function l(t){return Object(i["a"])({url:"/notification/history/list",method:"post",data:t})}a("3cfe"),a("2fa3");var o={all:"all",unprocessed:"0",processed:"1",ignored:"2"},c={name:"NoticeListIndex",components:{TableTitle:s["a"]},data:function(){return{loading:!1,tableData:[],total:0,params:{dateTimeRange:[],receive_target:"",notification_type:0,start_time:0,end_time:0,current_page:1,per_page:10},DatePickerOptions:[],ProcessingState:o,detailDialogVisible:!1,processDialogVisible:!1,currentItem:{}}},created:function(){this.getRecordList()},methods:{handleSearch:function(){this.params.dateTimeRange&&this.params.dateTimeRange.length>0&&""!==this.params.dateTimeRange[0]&&""!==this.params.dateTimeRange[1]?(this.params.start_time=this.params.dateTimeRange[0].toString().substring(0,10),this.params.end_time=this.params.dateTimeRange[1].toString().substring(0,10),this.params.start_time=Number(this.params.start_time),this.params.end_time=Number(this.params.end_time)):(delete this.params.start_time,delete this.params.end_time),this.getRecordList()},getRecordList:function(){var t=this;this.loading=!0,l(this.params).then((function(e){var a,r=e.data;200===r.code&&(console.log(r.data),t.tableData=(null===(a=r.data)||void 0===a?void 0:a.data)||[],t.total=r.data.total)})).finally((function(){t.loading=!1}))}}},E=c,p=a("2877"),d=Object(p["a"])(E,r,n,!1,null,null,null);e["default"]=d.exports}}]);