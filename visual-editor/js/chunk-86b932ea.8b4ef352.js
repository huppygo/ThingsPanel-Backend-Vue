(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86b932ea"],{"239d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"table-title h3 font-weight-bolder m-0 pt-2"},[t._t("default")],2)},l=[],i={name:"TableTitle"},o=i,r=a("2877"),n=Object(r["a"])(o,s,l,!1,null,"2001a59c",null);e["a"]=n.exports},e520:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rounded card p-4"},[a("el-row",{staticClass:"pt-3 pb-4 px-3",attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("TableTitle",[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.PERMISSIONMANAGEMENT")))])],1),a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{size:"medium",type:"indigo",disabled:!t.hasAuth("sys:permission:add")},on:{click:t.handleAdd}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.PERMISSIONADD")))])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData,"row-key":"id"}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.TITLE"),prop:"title",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$t(e.row.title))+" ")]}}])}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.NAMES"),prop:"name"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.ICON"),prop:"icon"}}),a("el-table-column",{attrs:{label:"url",prop:"path"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.COMPONENT"),prop:"component"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.TYPE"),prop:"type",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:0==e.row.type,expression:"scope.row.type == 0"}],attrs:{type:"warning"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.DIRECTORY")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],attrs:{type:"success"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.MENU")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:2==e.row.type,expression:"scope.row.type == 2"}],attrs:{type:"danger"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.ROUTING")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:3==e.row.type,expression:"scope.row.type == 3"}],attrs:{type:"info"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.BUTTON")))])]}}])}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABELSYSFLAG"),prop:"sys_flag",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:0==e.row.sys_flag,expression:"scope.row.sys_flag == 0"}],attrs:{type:"warning"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.FLAG_TENANT")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:1==e.row.sys_flag,expression:"scope.row.sys_flag == 1"}],attrs:{type:"danger"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.FLAG_SYSADMIN")))]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:2==e.row.sys_flag,expression:"scope.row.sys_flag == 2"}],attrs:{type:"success"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.FLAG_COMMON")))])]}}])}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABELDESC"),prop:"describe"}}),a("el-table-column",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.OPERATION"),align:"center",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-right"},[a("el-button",{staticClass:"mr-3",attrs:{type:"indigo",size:"mini",disabled:!t.hasAuth("sys:permission:edit")},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v(" "+t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.EDIT"))+" ")]),a("el-popconfirm",{attrs:{"confirm-button-text":t.$t("COMMON.CONFIRM"),"cancel-button-text":t.$t("COMMON.CANCEL"),title:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.DELETETHISITEM")},on:{confirm:function(a){return t.handleDelete(e.row)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini",disabled:!t.hasAuth("sys:permission:del")},slot:"reference"},[t._v(" "+t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.DELETE"))+" ")])],1)],1)]}}])})],1),a("div",{staticClass:"text-right py-3"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.params.current_page,"page-size":t.params.per_page},on:{"update:currentPage":function(e){return t.$set(t.params,"current_page",e)},"update:current-page":function(e){return t.$set(t.params,"current_page",e)},"current-change":t.getList}})],1),a("el-dialog",{staticClass:"el-dark-dialog el-dark-input",attrs:{visible:t.dialogVisible,"close-on-click-modal":!1,title:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.PERMISSIONMANAGEMENT"),width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e},closed:function(e){t.dialogVisible=!1}}},[a("el-form",{attrs:{model:t.formData,"label-position":"right","label-width":"140px",inline:!1}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.PARENTMENU")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.PLACEHOLDER")},model:{value:t.formData.parent_id,callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}},[a("el-option",{attrs:{value:"0",label:"root"}}),t._l(t.permissionOptions,(function(e){return[a("el-option",{key:e.id,attrs:{label:e["name"],value:e.id}},[a("span",[t._v(t._s("  -- "+e["name"]))])]),t._l(e.children,(function(e){return[a("el-option",{attrs:{label:e["name"],value:e.id}},[a("span",[t._v(t._s("     -- "+e["name"]))])])]}))]}))],2)],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABLENAME")}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"path："}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData.path,callback:function(e){t.$set(t.formData,"path",e)},expression:"formData.path"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.COMPONENTPATH")}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData.component,callback:function(e){t.$set(t.formData,"component",e)},expression:"formData.component"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABLETITLE")}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABLEICON")}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData.icon,callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABLETHESORTING")}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.CODE")}},[a("el-input",{attrs:{size:"medium"},model:{value:t.formData["function_code"],callback:function(e){t.$set(t.formData,"function_code",e)},expression:"formData['function_code']"}})],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABLETYPE")}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:"0"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.DIRECTORY")))]),a("el-radio",{attrs:{label:"1"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.MENU")))]),a("el-radio",{attrs:{label:"2"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.ROUTING")))]),a("el-radio",{attrs:{label:"3"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.BUTTON")))])],1)],1),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABELSYSFLAG")}},[a("el-radio-group",{model:{value:t.formData.sys_flag,callback:function(e){t.$set(t.formData,"sys_flag",e)},expression:"formData.sys_flag"}},[a("el-radio",{attrs:{label:"0"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.FLAG_TENANT")))]),a("el-radio",{attrs:{label:"1"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.FLAG_SYSADMIN")))]),a("el-radio",{attrs:{label:"2"}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.FLAG_COMMON")))])],1)],1),a("el-form-item",{attrs:{label:t.$t("SYSTEM_MANAGEMENT.PERMISSION_MANAGEMENT.LABELDESC")}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容",maxlength:"500","show-word-limit":""},model:{value:t.formData.describe,callback:function(e){t.$set(t.formData,"describe",e)},expression:"formData.describe"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("el-button",{attrs:{type:"cancel"},on:{click:t.onCancel}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.CANCEL")))]),a("el-button",{attrs:{type:"save"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("SYSTEM_MANAGEMENT.CONFIRM")))])],1)],1)],1)],1)},l=[],i=(a("d3b7"),a("4e82"),a("239d")),o=a("0feb"),r=a("2fa3"),n={name:"PermissionIndex",components:{TableTitle:i["a"]},data:function(){return{loading:!1,tableData:[],formData:{},permission_id:"",total:10,params:{current_page:1,per_page:10},dialogVisible:!1,permissionOptions:[]}},mounted:function(){this.getList(),this.getParentTree()},methods:{changePage:function(t){},getParentTree:function(){var t=this;o["a"].tree().then((function(e){var a=e.data;200==a.code&&(t.permissionOptions=a.data)}))},getList:function(){var t=this;this.loading=!0,this.hasAuth("sys:permission:search")&&o["a"].list().then((function(e){var a=e.data;200==a.code&&(t.tableData=a.data)})).finally((function(){t.loading=!1}))},handleAdd:function(){this.formData={parent_id:"0",type:"1",sys_flag:"0"},this.dialogVisible=!0},handleEdit:function(t){var e=this;o["a"].getOne({current_page:1,per_page:10,id:t.id}).then((function(t){var a=t.data;200==a.code&&(e.formData=a.data.data[0],console.log(e.formData))})),this.dialogVisible=!0},handleDelete:function(t){var e=this;o["a"].del({id:t.id}).then((function(t){var a=t.data;console.log(a),200==a.code&&(e.getList(),e.getParentTree())}))},onCancel:function(){this.formData={},this.dialogVisible=!1},onSubmit:function(){var t=this;this.formData.sort=parseInt(this.formData.sort),o["a"].saveOrUpdate(this.formData.id?"edit":"add",this.formData).then((function(e){var a=e.data;200==a.code&&(t.dialogVisible=!1,Object(r["i"])("操作成功"),t.getList(),t.getParentTree())}))}}},E=n,M=a("2877"),N=Object(M["a"])(E,s,l,!1,null,"2f88dd40",null);e["default"]=N.exports}}]);