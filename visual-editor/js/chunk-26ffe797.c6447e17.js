(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ffe797"],{"19d0":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-cascader",{staticClass:"w-100",attrs:{placeholder:e.$t("DATA_MANAGEMENT.PLACEHOLDER2"),props:e.businessProps,clearable:e.clearable,filterable:""},on:{change:function(t){return e.handleChange()}},model:{value:e.businessCascaderData,callback:function(t){e.businessCascaderData=t},expression:"businessCascaderData"}})},i=[],a=(n("a15b"),n("d81d"),n("b0c0"),n("ed09")),o=n("2b6d"),s=Object(a["c"])({name:"BusinessSelector",props:{business_id:{required:!0,type:String},clearable:{default:!0},showAll:{default:!1}},setup:function(e,t){var n=Object(a["a"])({get:function(){return[e.business_id]},set:function(e){t.emit("update:business_id",e.join(""))}}),r=Object(a["h"])({lazy:!0,lazyLoad:function(t,n){Object(o["d"])({page:1}).then((function(t){var r=t.data,i=[];200===r.code&&r.data.data&&(i=r.data.data.map((function(e){return{value:e.id,label:e.name,leaf:!0}})),e.showAll&&i.unshift({label:"所有项目",value:"all",leaf:!0}),n(i))}))}});function i(){t.emit("change")}return{businessCascaderData:n,businessProps:r,handleChange:i}}}),u=s,c=(n("972c6"),n("2877")),l=Object(c["a"])(u,r,i,!1,null,null,null);t["a"]=l.exports},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7");function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}},"1f0c":function(e,t,n){"use strict";n("2a05")},2292:function(e,t,n){"use strict";n("bbe0")},"239d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",{staticClass:"table-title h3 font-weight-bolder m-0 pt-2"},[e._t("default")],2)},i=[],a={name:"TableTitle"},o=a,s=n("2877"),u=Object(s["a"])(o,r,i,!1,null,"2001a59c",null);t["a"]=u.exports},"2a05":function(e,t,n){},"2b6d":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("18a6");function i(e){return Object(r["a"])({url:"/business/index",method:"post",data:e})}function a(e){return Object(r["a"])({url:"/business/add",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/business/edit",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/business/delete",method:"post",data:e})}},"308f":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n("5530"),i=(n("2ca0"),n("d3b7"),n("d81d"),n("18a6"));function a(){return Object(i["a"])({url:"/asset/index",method:"post"})}function o(e){return Object(i["a"])({url:"/structure/field",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/asset/list",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/asset/list/a",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/asset/list/b",method:"post",data:e})}function l(e){var t=function(e){return e&&e.startsWith("/")?e.substring(1):e};return new Promise((function(n,r){Object(i["a"])({url:"/asset/list/d",method:"post",data:e}).then((function(e){var r=e.data.data.map((function(e){return e.device_group=t(e.device_group),e}));e.data.data=r,n(e)})).catch((function(e){r(e)}))}))}function d(e){return Object(i["a"])({url:"/asset/list/c",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/asset/update_only",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/asset/add_only",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/asset/delete",method:"post",data:Object(r["a"])({type:1},e)})}},"75f9":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{staticClass:"w-100",attrs:{clearable:e.clearable,filterable:e.filterable,placeholder:e.$t("DATA_MANAGEMENT.PLACEHOLDER3"),"no-data-text":e.$t("PUBLIC.NODATA")},on:{change:function(t){return e.handleChange()}},model:{value:e.deviceGroupId,callback:function(t){e.deviceGroupId=t},expression:"deviceGroupId"}},e._l(e.deviceGroupOptions,(function(e){return n("el-option",{key:e.id,attrs:{value:e.id,label:e.device_group}})})),1)},i=[],a=n("ed09"),o=n("308f"),s=Object(a["c"])({name:"DeviceGroupSelector",props:{clearable:{default:!0},filterable:{default:!0},business_id:{required:!0},asset_id:{required:!0},showAll:{default:!1}},setup:function(e,t){var n=Object(a["i"])([]);function r(){if(!e.showAll)return!1;n.value.unshift({device_group:"所有设备分组",id:"all"})}var i=Object(a["a"])({get:function(){return e.asset_id},set:function(e){t.emit("update:asset_id",e)}});function s(){t.emit("change")}return Object(a["j"])((function(){return e.business_id}),(function(){var t=e.business_id;t&&Object(o["i"])({business_id:t}).then((function(e){var t,i=e.data;200===i.code&&i.data&&(n.value=i.data),"all"!==(null===(t=n.value[0])||void 0===t?void 0:t.id)&&r()}))}),{immediate:!0}),r(),{deviceGroupId:i,deviceGroupOptions:n,handleChange:s}}}),u=s,c=n("2877"),l=Object(c["a"])(u,r,i,!1,null,"69d383fb",null);t["a"]=l.exports},"83bb":function(e,t,n){},"93bf":function(e,t,n){
/*!
* screenfull
* v4.2.1 - 2019-07-27
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},n=e.exports,r="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if(e=n[r],e&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),a={change:i.fullscreenchange,error:i.fullscreenerror},o={request:function(e){return new Promise(function(n,a){var o,s=i.requestFullscreen,u=function(){this.off("change",u),n()}.bind(this);this.on("change",u),e=e||t.documentElement,o=/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[s]():e[s](r?Element.ALLOW_KEYBOARD_INPUT:{}),Promise.resolve(o).catch(a)}.bind(this))},exit:function(){return new Promise(function(e){if(this.isFullscreen){var n=function(){this.off("change",n),e()}.bind(this);t[i.exitFullscreen](),this.on("change",n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=a[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=a[e];r&&t.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[i.fullscreenEnabled])}}}),n?(e.exports=o,e.exports.default=o):window.screenfull=o):n?e.exports=!1:window.screenfull=!1})()},9448:function(e,t,n){"use strict";var r=n("18a6");t["a"]={add:function(e){return Object(r["a"])({url:"/device/model/add",method:"post",data:e})},edit:function(e){return Object(r["a"])({url:"/device/model/edit",method:"post",data:e})},del:function(e){return Object(r["a"])({url:"/device/model/delete",method:"post",data:e})},page:function(e){return Object(r["a"])({url:"/device/model/list",method:"post",data:e})},tree:function(e){return Object(r["a"])({url:"/device/model/tree",method:"post",data:e})},category:function(e){return Object(r["a"])({url:"/dict/list/",method:"post",data:e})},map:function(e){return Object(r["a"])({url:"/device/map",method:"post",data:e})},equip:function(e){return Object(r["a"])({url:"/kv/current/symbol",method:"post",data:e})},state:function(e){return Object(r["a"])({url:"/device/status",method:"post",data:e})}}},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(F){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),o=new q(r||[]);return a._invoke=j(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function b(){}function m(){}function g(){}var y={};u(y,a,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&r.call(_,a)&&(y=_);var E=g.prototype=b.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;function a(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}this._invoke=a}function j(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return S()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var s=L(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:S}}function S(){return{value:t,done:!0}}return m.prototype=g,u(E,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(O.prototype),u(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new O(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),u(E,s,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,q.prototype={constructor:q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},"972c6":function(e,t,n){"use strict";n("83bb")},bbe0:function(e,t,n){},e314:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"amap-page-container rounded card p-4"},[n("div",{attrs:{id:"screen"}},[n("el-row",{staticClass:"pt-3 pb-4 px-3 el-dark-input aa screen-nav",attrs:{type:"flex",gutter:10}},[n("el-col",{attrs:{span:4}},[n("BusinessSelector",{attrs:{showAll:!0,business_id:e.queryParams.business_id},on:{"update:business_id":function(t){return e.$set(e.queryParams,"business_id",t)},change:e.handleChangeBussiness}})],1),n("el-col",{attrs:{span:4}},[n("DeviceGroupSelector",{attrs:{showAll:!0,asset_id:e.queryParams.group_id,business_id:e.queryParams.business_id},on:{change:e.handleChangeEquipGroup,"update:asset_id":function(t){return e.$set(e.queryParams,"group_id",t)},"update:business_id":function(t){return e.$set(e.queryParams,"business_id",t)}}})],1),n("el-col",{attrs:{span:4}},[n("el-cascader",{staticClass:"w-100",attrs:{clearable:"",placeholder:e.$t("DEVICE_MAP.PLACEHOLDER1"),options:e.optionsList},on:{change:e.handleChangePlugin},model:{value:e.queryParams.plugin_id,callback:function(t){e.$set(e.queryParams,"plugin_id",t)},expression:"queryParams.plugin_id"}})],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticClass:"btn el-button--default el-button mr-2 el-button--indigo screen-btn",attrs:{icon:"el-icon-full-screen "},on:{click:e.btn}},[e._v(e._s(e.$t("DEVICE_MAP.PLACEHOLDER2")))])],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:{amap_box:e.bindc},style:{width:"100%",height:"100vh"}},[n("el-amap",e._b({staticClass:"amap-box",attrs:{vid:"amap",viewMode:"3D"}},"el-amap",e.mapConfig,!1),[e._l(e.markers,(function(e,t){return n("el-amap-marker",{key:"marker_"+t,attrs:{position:e.position,vid:t,content:e.content,label:e.label,events:e.events}})})),e._l(e.boatWindows,(function(e,t){return n("el-amap-info-window",{key:"boatWindow_"+t,attrs:{position:e.position,visible:e.visible,content:e.content,events:e.events,"auto-move":!0,"is-custom":!0,offset:e.offset}})}))],2)],1)],1)])},i=[],a=n("2909"),o=n("1da1"),s=(n("96cf"),n("d3b7"),n("d81d"),n("e9c4"),n("159b"),n("99af"),n("4de4"),n("ac1f"),n("1276"),n("b64b"),n("239d")),u=n("19d0"),c=n("75f9"),l=n("93bf"),d=n.n(l),f=n("9448"),h=n("8f9b"),p=(n("2fa3"),new h["AMapManager"]),v={components:{TableTitle:s["a"],BusinessSelector:u["a"],DeviceGroupSelector:c["a"]},data:function(){return{loading:!1,queryParams:{business_id:"",group_id:"",plugin_id:""},boatWindows:[],boatWindow:{},markers:[],bindc:!0,mapConfig:{zoom:8,center:[100,30],plugin:["MapType"],amapManager:p},optionsList:[],pluginCategory:[]}},created:function(){this.initMap(),this.getPluginList()},methods:{initMap:function(){this.renderDeviceMap({})},renderDeviceMap:function(e){var t=this;this.loading=!0,f["a"].map(e).then((function(e){var n=e.data;200==n.code&&t.batchCreateMarker((null===n||void 0===n?void 0:n.data)||[])})).finally((function(){t.loading=!1}))},handleChangeBussiness:function(){"all"===this.queryParams.business_id&&(this.queryParams.business_id=""),this.queryParams.group_id="",this.renderDeviceMap(this.queryParams)},handleChangeEquipGroup:function(){"all"===this.queryParams.group_id&&(this.queryParams.group_id=""),this.renderDeviceMap(this.queryParams)},handleChangePlugin:function(e){e.length>0?this.queryParams.device_model_id=e[1]:this.queryParams.device_model_id="",this.renderDeviceMap(this.queryParams)},getPluginList:function(){var e=this;f["a"].tree({}).then((function(t){var n=t.data;200==n.code&&(e.optionsList=JSON.parse(JSON.stringify(e.formatterOption(n.data))))}))},formatterOption:function(e){var t=this;return e.forEach((function(e){e.value=e.dict_value||e.id,e.label=e.model_name,e.device_model&&(e.children=e.device_model,t.formatterOption(e.children))})),e},getEquipStatus:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].state(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},renderMarks:function(e){var t=this,n=[];e.forEach((function(e){n=[].concat(Object(a["a"])(n),Object(a["a"])(e.children))})),n.forEach((function(e){var n={device_model_id:e.id};t.getEquipInfo(n)}))},getEquipInfo:function(e){var t=this;f["a"].map(e).then((function(e){var n,r=e.data,i=null===(n=r.data)||void 0===n?void 0:n.filter((function(e){return e.location}));if(i&&i.length){var a={device_id_list:null===i||void 0===i?void 0:i.map((function(e){return e.device_id}))};t.getEquipStatus(a).then((function(e){i.forEach((function(t){t.device_status=e[t.device_id]})),t.batchCreateMarker(i)}))}}))},batchCreateMarker:function(e){var t=this;if(this.markers=[],this.boatWindows={},!e||!e.length)return!1;e.forEach((function(e){t.markers.push({position:e.location.split(","),label:{content:'<div class="label-info">'.concat(e.business_name," - ").concat(e.device_name,"</div>"),offset:[5,20],direction:"bottom"},events:{click:function(){e.position=e.location.split(","),t.createWindow(e)}}})})),this.createWindow(e[0])},btn:function(){this.bindc=!this.bindc;var e=document.getElementById("screen");d.a.toggle(e);var t=document.querySelector(".aa");t.style.position="absolute"},createWindow:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,i,a,o,s,u,c,l,d,h,p,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("====map.createWindow.boatData",e),i=[],a="",o="",s=null,n.next=7,f["a"].equip({entity_id:e.device_id});case 7:return u=n.sent,c=u.data,null!==c&&void 0!==c&&c.data&&c.data[0]&&(l=c.data[0],o=(null===l||void 0===l?void 0:l.systime)||"",a='<div style="line-height:30px;">',Object.keys(l).forEach((function(e){"systime"!==e&&"SYS_ONLINE"!==e&&(a+='<div><span style="font-weight:bold;">'.concat(e,"：</span>").concat(l[e],"</div>"))})),a+="</div>"),d={device_id_list:[e.device_id]},n.next=13,t.getEquipStatus(d);case 13:h=n.sent,200==h.data.code&&(s=h.data.data[e.device_id]),p="","1"===e.equipStatus?'<div style="margin-left:20px; color:#28a745; font-weight:bold;">在线</div>':'<div style="margin-left:20px; color:#888; font-weight:bold;">离线</div>',v='<div class="window-box" style="display: flex;flex-direction: column;\n            justify-content: space-between; white-space: nowrap;min-width: 240px;border-radius:6px; background: #fff;padding:12px;box-shadow:3px 5px 3px #ccc; font-size:15px">\n             <div style="line-height:30px;display:flex;justify-content:space-between">\n               <div><span style="font-weight:bold;">项目名：</span>'.concat(null===e||void 0===e?void 0:e.business_name,'</div>\n               <div style="margin-left:20px"><span style="font-weight:bold;">设备名：</span>').concat(null===e||void 0===e?void 0:e.device_name,"</div>\n             </div> \n             ").concat(a,"\n             ").concat(p,'\n             <div style="line-height:30px;display:flex;justify-content:space-between">\n              <div style="margin-right: 20px"><span style="font-weight:bold;">数据更新时间：</span>').concat(o,"</div>\n              ").concat("1"==s?"在线":"离线","\n            </div>\n           </div>"),i.push({position:null===(r=e.location)||void 0===r?void 0:r.split(","),visible:!0,offset:[10,-30],showShadow:!0,content:v}),t.boatWindows=i;case 20:case"end":return n.stop()}}),n)})))()}}},b=v,m=(n("2292"),n("1f0c"),n("2877")),g=Object(m["a"])(b,r,i,!1,null,null,null);t["default"]=g.exports}}]);