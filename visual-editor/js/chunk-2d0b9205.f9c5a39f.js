(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9205"],{"322b":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return r}));t("d9e2"),t("d3b7");var n=t("6eee"),i=t("ed09"),o=t("2fa3"),c=t("854b");function r(){var e=Object(i["d"])().proxy,a=Object(n["b"])(),t=Object(i["i"])(),r=Object(i["i"])(!1),u=Object(i["i"])(!1),s=Object(i["h"])({email:"",password:"",phone:"",captcha:""}),d=Object(i["h"])({email:[{required:!0,message:e.$t("LOGIN.TITLE2"),validator:p}],password:[{required:!0,message:e.$t("LOGIN.TITLE3"),min:6}],phone:[{required:!0,message:e.$t("LOGIN.TITLE5"),min:11}],captcha:[{required:!0,message:e.$t("LOGIN.TITLE6"),max:16}]}),p=function(a,t,n){Object(o["e"])(t)&&n(),n(new Error(e.$t("LOGIN.TITLE4")))},h=Object(i["h"])({email:"",password:"",phone:"",captcha:""});function l(){var e=this;t.value.validate((function(t){t&&(r.value||(r.value=!0,Object(o["b"])(h),a.dispatch(c["e"],{email:s.email,password:s.password,phone_number:s.phone,verification_code:s.captcha}).then((function(a){200!==a.code&&"注册成功"!==a.message||e.$router.push("/login")})).finally((function(){setTimeout((function(){r.value=!1}),1e3)}))))}))}function b(n){t.value.validateField("phone",(function(t){t||r.value||(r.value=!0,Object(o["b"])(h),a.dispatch(c["f"],{phone_number:s.phone}).then((function(a){200!==a.code?h.captcha=e.$t("LOGIN.WRONG_PHONE"):(r.value=!1,n())})))}))}return{registerFormRef:t,formData:s,loading:r,smsCodeLoading:u,rules:d,errors:h,handleSubmit:l,sendCaptchaCode:b}}}}]);