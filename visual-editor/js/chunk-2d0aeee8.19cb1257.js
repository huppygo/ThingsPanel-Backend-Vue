(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aeee8"],{"0bbb":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{width:"100%",display:"flex",position:"relative"}},[t.option.operator?e("el-select",{ref:"symbolRef",staticStyle:{width:"100px","margin-right":"10px"},attrs:{"no-data-text":t.$t("COMMON.SELECT_NO_DATA"),placeholder:t.$t("AUTOMATION.PLACEHOLDER.SYMBOL")},on:{change:t.handleChange},model:{value:t.formData.symbol,callback:function(a){t.$set(t.formData,"symbol",a)},expression:"formData.symbol"}},t._l(t.symbolList,(function(t,a){return e("el-option",{key:a,attrs:{label:t,value:t}})})),1):t._e(),["switch"===t.chart.type?e("el-select",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{"no-data-text":t.$t("COMMON.SELECT_NO_DATA")},on:{change:t.handleChange},model:{value:t.formData.value,callback:function(a){t.$set(t.formData,"value",a)},expression:"formData.value"}},t._l(t.formData.switchList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.value}})})),1):"slider"===t.chart.type||"setValue"===t.chart.type?e("el-input-number",{staticClass:"el-dark-input",staticStyle:{width:"140px","margin-right":"10px"},attrs:{min:t.formData.min,max:t.formData.max,step:1},on:{change:t.handleChange},model:{value:t.formData.value,callback:function(a){t.$set(t.formData,"value",a)},expression:"formData.value"}}):e("el-input",{ref:"valueRef",staticStyle:{width:"100px","margin-right":"10px"},on:{change:t.handleChange},model:{value:t.formData.value,callback:function(a){t.$set(t.formData,"value",a)},expression:"formData.value"}})],e("span",{},[t._v(" "+t._s(t.data.unit?t.data.unit:"")+" ")])],2)},o=[],i=(e("e9c4"),e("d3b7"),e("25f0"),e("a9e3"),e("ac1f"),e("1276"),e("00b4"),e("2fa3")),l={name:"OperatorSelector",props:{data:{type:[Object],default:function(){return{}}},option:{type:[Object],default:function(){return{operator:!1}}},chart:{type:[Object],default:function(){return{}}}},data:function(){return{symbolList:[">",">=","<","<=","==","!=","in","between"],formData:{symbol:"",value:""}}},watch:{data:{handler:function(t){console.log("DeviceTypeSelector.data",t),t&&(t.operator?(this.formData=JSON.parse(JSON.stringify(t.operator)),this.formData.value=this.formData.value.toString()):this.formData={symbol:"",value:""})},immediate:!0,deep:!0},chart:{handler:function(t){if(console.log("DeviceTypeSelector.chart",t),t&&"{}"!==JSON.stringify(t))if(this.symbolList=[">",">=","<","<=","==","!=","in","between"],"switch"===t.type){var a=t.series[0].mapping,e=a.on,r=a.off;this.formData.switchList=[{label:"开启",value:e},{label:"关闭",value:r}],this.symbolList=["=="],this.formData.symbol="=="}else if("slider"===t.type||"setValue"===t.type){var o=t.series[0].mapping;this.formData.max=Number(o.max)||Number(o.attr.dataRange.split("-")[1])||100,this.formData.min=Number(o.attr.dataRange.split("-")[0])||0,this.formData.step=Number(o.step)||Number(o.attr.stepLength)||1}},immediate:!0,deep:!0}},methods:{handleChange:function(){var t=JSON.parse(JSON.stringify(this.formData));!1===this.option.operator&&(t.symbol="="),this.$emit("change",t)},validate:function(){if(this.option.operator&&(!this.formData.symbol||""===this.formData.symbol))return this.$refs.symbolRef&&this.$refs.symbolRef.focus(),Object(i["h"])(this.$t("AUTOMATION.ERROR.SYMBOL")),!1;var t=!0,a=this.data.type;if("integer"===a||"number"===a||"float"===a){console.log("OperatorSelector.formData.value",this.formData.value.toString());var e=/^[-+]?(\d+(\.\d*)?|\.\d+)([eE][-+]?\d+)?$/;t=e.test(this.formData.value.toString())}return console.log("OperatorSelector.formData.value",t,this.formData.value),!(""===this.formData.value||void 0===this.formData.value||!t)||(this.$refs.valueRef&&this.$refs.valueRef.focus(),Object(i["h"])(this.$t("AUTOMATION.ERROR.PROPERTY")),!1)}}},s=l,n=e("2877"),f=Object(n["a"])(s,r,o,!1,null,"4956745c",null);a["default"]=f.exports}}]);