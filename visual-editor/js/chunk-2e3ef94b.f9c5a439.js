(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e3ef94b"],{"50a1":function(e,t,o){},"81a8":function(e,t,o){"use strict";o("50a1")},ad00:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"rounded p-4 card no-border v-application my-v-input",attrs:{"data-app":"true"}},[o("div",{staticClass:"system-box"},[o("p",{staticClass:"tab-title"},e._l(e.tabs,(function(t,s){return o("span",{key:s,class:{active:t.value==e.activeTab},on:{click:function(o){e.activeTab=t.value}}},[e._v(" "+e._s(e.$t(t.name))+" ")])})),0),o("div",{staticClass:"content"},[1==e.activeTab?o("div",[o("div",{staticClass:"content-form"},[o("el-form",{ref:"form",staticClass:"el-dark-input",attrs:{rules:e.rules,"label-position":"left","label-width":"140px",model:e.formObj}},[o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.NOTICE_TYPE"),prop:"config.cloud_type"}},[o("el-select",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled,placeholder:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER")},model:{value:e.formObj.notice_type,callback:function(t){e.$set(e.formObj,"notice_type",t)},expression:"formObj.notice_type"}},e._l(e.noticeTypeOptions,(function(e){return o("el-option",{attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE1"),prop:"config.cloud_type"}},[o("el-select",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled,placeholder:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER")},model:{value:e.formObj.config.cloud_type,callback:function(t){e.$set(e.formObj.config,"cloud_type",t)},expression:"formObj.config.cloud_type"}},[o("el-option",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.ALY"),value:1}})],1)],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE2"),prop:"config.access_key_id"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled},model:{value:e.formObj.config.access_key_id,callback:function(t){e.$set(e.formObj.config,"access_key_id",t)},expression:"formObj.config.access_key_id"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE3"),prop:"config.access_key_secret"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled},model:{value:e.formObj.config.access_key_secret,callback:function(t){e.$set(e.formObj.config,"access_key_secret",t)},expression:"formObj.config.access_key_secret"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE4"),prop:"config.endpoint"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled},model:{value:e.formObj.config.endpoint,callback:function(t){e.$set(e.formObj.config,"endpoint",t)},expression:"formObj.config.endpoint"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE5"),prop:"config.sign_name"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled},model:{value:e.formObj.config.sign_name,callback:function(t){e.$set(e.formObj.config,"sign_name",t)},expression:"formObj.config.sign_name"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE7"),prop:"config.template_code"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled},model:{value:e.formObj.config.template_code,callback:function(t){e.$set(e.formObj.config,"template_code",t)},expression:"formObj.config.template_code"}})],1),o("el-form-item",{attrs:{label:""}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:"",type:"textarea",rows:"5",placeholder:e.templatePlaceholderOptions[e.formObj.notice_type].template},model:{value:e.formObj.system_name,callback:function(t){e.$set(e.formObj,"system_name",t)},expression:"formObj.system_name"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE8")}},[o("el-switch",{attrs:{disabled:e.isDisabled,"active-value":1,"inactive-value":0},on:{change:e.switchChange},model:{value:e.formObj.status,callback:function(t){e.$set(e.formObj,"status",t)},expression:"formObj.status"}})],1)],1)],1),o("div",{staticStyle:{"padding-left":"120px","margin-bottom":"20px"}},[o("el-button",{attrs:{type:"yellow"},on:{click:e.debug}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.DEBUG"))+" ")]),e.isEdit?o("el-button",{attrs:{type:"indigo"},on:{click:function(t){return e.edit()}}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.EDIT"))+" ")]):e._e(),e.isSave?o("el-button",{attrs:{type:"save"},on:{click:e.save}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SAVE"))+" ")]):e._e()],1)]):e._e(),2==e.activeTab?o("div",[o("div",{staticClass:"content-form"},[o("el-form",{ref:"form2",attrs:{rules:e.rules2,"label-position":"left","label-width":"140px",model:e.objForm}},[o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE12"),prop:"obj.host"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled2},model:{value:e.objForm.obj.host,callback:function(t){e.$set(e.objForm.obj,"host",t)},expression:"objForm.obj.host"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE13"),prop:"obj.port"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled2},model:{value:e.objForm.obj.port,callback:function(t){e.$set(e.objForm.obj,"port",t)},expression:"objForm.obj.port"}}),o("span",{staticClass:"span-check"},[o("el-checkbox",{model:{value:e.objForm.obj.ssl,callback:function(t){e.$set(e.objForm.obj,"ssl",t)},expression:"objForm.obj.ssl"}},[e._v("开启ssl")])],1)],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE14"),prop:"obj.from_password"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled2},model:{value:e.objForm.obj.from_password,callback:function(t){e.$set(e.objForm.obj,"from_password",t)},expression:"objForm.obj.from_password"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE15"),prop:"obj.from_email"}},[o("el-input",{staticStyle:{width:"330px"},attrs:{disabled:e.isDisabled2},model:{value:e.objForm.obj.from_email,callback:function(t){e.$set(e.objForm.obj,"from_email",t)},expression:"objForm.obj.from_email"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE8")}},[o("el-switch",{attrs:{disabled:e.isDisabled2,"active-value":1,"inactive-value":0},on:{change:e.switchChange2},model:{value:e.objForm.status,callback:function(t){e.$set(e.objForm,"status",t)},expression:"objForm.status"}})],1)],1)],1),o("div",{staticStyle:{"padding-left":"120px","margin-bottom":"20px"}},[o("el-button",{attrs:{type:"yellow"},on:{click:e.debug2}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.DEBUG"))+" ")]),e.isEdit2?o("el-button",{attrs:{type:"indigo"},on:{click:function(t){return e.edit2()}}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.EDIT"))+" ")]):e._e(),e.isSave2?o("el-button",{attrs:{type:"save"},on:{click:function(t){return e.save2()}}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SAVE"))+" ")]):e._e()],1)]):e._e()])]),o("div",{staticClass:"model"},[o("el-dialog",{staticClass:"el-dark-dialog el-dark-input",attrs:{title:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.DEBUG"),visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!0,"append-to-body":!0,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("div",{staticClass:"dialog-body"},[o("el-form",{ref:"form3",attrs:{rules:e.rules3,"label-position":"left",model:e.formModel,"label-width":"100px"}},[o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE9"),prop:"phone_number"}},[o("el-input",{model:{value:e.formModel.phone_number,callback:function(t){e.$set(e.formModel,"phone_number",t)},expression:"formModel.phone_number"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE10"),prop:"content"}},[o("el-input",{attrs:{type:"textarea",placeholder:e.templatePlaceholderOptions[e.formObj.notice_type].messageContent},model:{value:e.formModel.content,callback:function(t){e.$set(e.formModel,"content",t)},expression:"formModel.content"}})],1),o("div",{staticStyle:{display:"flex","justify-content":"center"}},[o("el-button",{staticClass:"medium",attrs:{type:"save",size:"medium"},on:{click:e.onSend}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SEND")))])],1)],1)],1)])],1),o("div",{staticClass:"model"},[o("el-dialog",{staticClass:"el-dark-dialog el-dark-input",attrs:{title:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.DEBUG"),visible:e.dialogVisible2,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!0,"append-to-body":!0,width:"500px"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[o("div",{staticClass:"dialog-body"},[o("el-form",{ref:"form4",attrs:{rules:e.rules4,"label-position":"left",model:e.formModel2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE11"),prop:"email"}},[o("el-input",{model:{value:e.formModel2.email,callback:function(t){e.$set(e.formModel2,"email",t)},expression:"formModel2.email"}})],1),o("el-form-item",{attrs:{label:e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.LABLE10"),prop:"content"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.formModel2.content,callback:function(t){e.$set(e.formModel2,"content",t)},expression:"formModel2.content"}})],1),o("div",{staticStyle:{display:"flex","justify-content":"center"}},[o("el-button",{staticClass:"medium",attrs:{type:"save",size:"medium"},on:{click:e.onSend2}},[e._v(e._s(e.$t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SEND")))])],1)],1)],1)])],1)])},i=[],a=(o("e9c4"),o("a9e3"),o("add0")),E=o("f570"),l=o("18a6");function r(e){return Object(l["a"])({url:"/notification/config/save",method:"post",data:e})}function n(e){return Object(l["a"])({url:"/notification/config/detail",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/notification/send/message",method:"post",data:e})}function M(e){return Object(l["a"])({url:"/notification/send/email",method:"post",data:e})}o("7b99"),o("30ab"),o("854b"),o("583c");var m={data:function(){return{activeTab:1,tabs:[{name:"SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SMS",value:1},{name:"SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.EMAIL",value:2},{name:"SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PHONE",value:3}],url:a["a"],formObj:{notice_type:1,config:{cloud_type:"",access_key_id:"",access_key_secret:"",endpoint:"",sign_name:"",template_code:""},status:0},objForm:{notice_type:2,config:{},obj:{host:"",port:"",ssl:!0,from_password:"",from_email:""},status:0},formModel:{phone_number:"",content:""},formModel2:{email:"",content:""},isDisabled:!0,isDisabled2:!0,isEdit:!0,isSave:!1,isEdit2:!0,isSave2:!1,dialogVisible:!1,dialogVisible2:!1,rules:{"config.cloud_type":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER"),trigger:"change"}],"config.access_key_id":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER1"),trigger:"blur"}],"config.access_key_secret":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER2"),trigger:"blur"}],"config.endpoint":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER3"),trigger:"blur"}],"config.sign_name":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER4"),trigger:"blur"}],"config.template_code":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER5"),trigger:"blur"}]},rules2:{"obj.host":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER8"),trigger:"blur"}],"obj.port":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER9"),trigger:"blur"}],"obj.from_password":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER10"),trigger:"blur"}],"obj.from_email":[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER11"),trigger:"blur"}]},rules3:{phone_number:[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER6"),trigger:"blur"}],content:[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER7"),trigger:"blur"}]},rules4:{email:[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER12"),trigger:"blur"}],content:[{required:!0,message:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.PLACEHOLDER7"),trigger:"blur"}]},noticeTypeOptions:[{label:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SMS_CODE_NOTICE"),value:3},{label:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.ALERT_MESSAGE_NOTICE"),value:1}],templatePlaceholderOptions:{1:{template:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.ALERT_TEMPLATE_PLACEHOLDER"),messageContent:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.ALERT_CONTENT_PLACEHOLDER")},3:{template:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SMS_CODE_TEMPLATE_PLACEHOLDER"),messageContent:E["a"].t("SYSTEM_MANAGEMENT.NOTICESERVICES_MANAGEMENT.SMS_CODE_CONTENT_PLACEHOLDER")}}}},watch:function(){this.initData()},mounted:function(){this.getSmsDetail(),this.getEmailDetail()},methods:{initData:function(){void 0!==this.$refs.form&&this.$refs["form"].clearValidate(),void 0!==this.$refs.form2&&this.$refs["form2"].clearValidate()},switchChange:function(e){this.formObj.status=0===e?2:1},switchChange2:function(e){this.objForm.status=0===e?2:1},edit:function(){this.isDisabled=!1,this.isEdit=!1,this.isSave=!0},save:function(){var e=this;this.isDisabled=!0,this.isEdit=!0,this.isSave=!1,this.$refs.form.validate((function(t){if(t){e.formObj.config=JSON.stringify(e.formObj.config);var o=JSON.parse(JSON.stringify(e.formObj));r(o).then((function(t){200===t.data.code&&(e.$message({message:"保存成功",center:!0,type:"success"}),e.getSmsDetail())}))}}))},getSmsDetail:function(){var e=this;n({notice_type:this.formObj.notice_type}).then((function(t){if(200===t.data.code){var o=t.data.data,s=JSON.parse(o[0].config);1===o[0].status?e.formObj.status=1:e.formObj.status=0,e.formObj.config=s}}))},getEmailDetail:function(){var e=this;n({notice_type:this.objForm.notice_type}).then((function(t){if(200===t.data.code){var o=t.data.data,s=JSON.parse(o[0].config);1===o[0].status?e.objForm.status=1:e.objForm.status=0,e.objForm.obj=s}}))},debug:function(){this.dialogVisible=!0},edit2:function(){this.isDisabled2=!1,this.isEdit2=!1,this.isSave2=!0},save2:function(){var e=this;this.isDisabled2=!0,this.isEdit2=!0,this.isSave2=!1,this.$refs.form2.validate((function(t){if(t){e.objForm.obj.port=Number(e.objForm.obj.port),e.objForm.obj=JSON.stringify(e.objForm.obj),e.objForm.config=e.objForm.obj;var o=JSON.parse(JSON.stringify(e.objForm));r(o).then((function(t){200===t.data.code&&(e.$message({message:"保存成功",center:!0,type:"success"}),e.getEmailDetail())}))}}))},debug2:function(){this.dialogVisible2=!0},onSend:function(){var e=this;this.formModel.phone_number=Number(this.formModel.phone_number),c(this.formModel).then((function(t){200===t.data.code&&e.$message({message:"发送成功",center:!0,type:"success"})}))},onSend2:function(){var e=this;M(this.formModel2).then((function(t){200===t.data.code&&e.$message({message:"发送成功",center:!0,type:"success"})}))}}},d=m,N=(o("81a8"),o("2877")),S=Object(N["a"])(d,s,i,!1,null,"a8c51f6c",null);t["default"]=S.exports}}]);