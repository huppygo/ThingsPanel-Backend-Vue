(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26a2386d","chunk-548098a9","chunk-2d212c35"],{"2df4":function(t,e,n){},3819:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail-box"},[n("el-dialog",{staticClass:"el-dark-dialog el-dark-input",attrs:{title:t.pluginName,visible:t.dialogVisible,width:"1000px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"container-fluid"},[n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:24}},[n("tsl-editor",{staticClass:"tsl-editor",attrs:{"show-view":!1,"show-create":!0,data:t.tslData},on:{gotoPlugin:t.handleGotoPlugin}})],1)],1),n("el-row",{attrs:{gutter:40}},[n("el-col",{attrs:{span:24}},[n("grid-layout",{staticClass:"grid-box",attrs:{layout:t.optionsData,"col-num":t.colNum,"row-height":30,"is-draggable":!0,"is-resizable":!0,"is-mirrored":!1,"vertical-compact":!0,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(e){t.optionsData=e}}},t._l(t.optionsData,(function(e,o){return n("grid-item",{key:e["id"]+o,staticClass:"grid-item",attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i}},["dashboard"!=e.controlType||e.type?t._e():n("e-charts",{key:e["id"],ref:"component_"+e.i,refInFor:!0,staticClass:"component-item",attrs:{"show-header":!0,option:e,value:e.value}}),"history"==e.controlType?n("curve",{key:e["id"],ref:"component_"+e.i,refInFor:!0,staticClass:"component-item",attrs:{"show-header":!0,option:e,value:e.value}}):t._e(),"dashboard"==e.controlType&&"status"==e.type?n("status",{key:e["id"],ref:"component_"+e.i,refInFor:!0,staticClass:"component-item",attrs:{"show-header":!0,option:e}}):t._e(),"dashboard"==e.controlType&&"deviceStatus"==e.type?n("device-status",{key:e["id"],ref:"component_"+e.i,refInFor:!0,staticClass:"component-item",attrs:{"show-header":!0,option:e,value:e.value}}):t._e(),"control"==e.controlType?n("control",{key:e["id"],ref:"component_"+e.i,refInFor:!0,staticClass:"component-item",attrs:{"show-header":!0,option:e}}):t._e(),"video"==e.controlType?n("video-component",{key:e["id"],ref:"component_"+e.i,refInFor:!0,staticClass:"component-item",staticStyle:{"min-width":"200px","min-height":"200px"},attrs:{"show-header":!0,option:e}}):t._e()],1)})),1)],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"cancel"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])],1)])],1)},a=[],r=n("9448"),i=n("7be8"),u=n("28b4"),d=n("7f74"),c=n("79ec"),s=n("60a6"),l=n("a8c7"),p=n("8731"),f={components:{GridLayout:i["GridLayout"],GridItem:i["GridItem"],ECharts:u["default"],Curve:d["default"],Control:c["default"],Status:s["default"],DeviceStatus:l["default"],VideoComponent:p["default"]},props:{visible:{type:[Boolean],default:!1},id:{type:[String],default:""}},data:function(){return{tslData:{},chartData:{},optionsData:[],colNum:24,pluginName:""}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},watch:{visible:function(t){t&&this.getPluginData(this.id)}},methods:{getPluginData:function(t){var e=this;r["a"].page({current_page:1,per_page:10,id:t}).then((function(t){var n=t.data;if(200==n.code){var o=n.data.data[0];e.pluginName=o.model_name;var a=JSON.parse((null===o||void 0===o?void 0:o.chart_data)||"{}");e.tslData=a.tsl||{};var r=a.chart||[];e.optionsData=e.getDefaultLayout(r,4)}}))},getDefaultLayout:function(t,e){for(var n=this.colNum/e,o=n,a=0,r=0,i=0;i<t.length;i++)a==e&&(r++,a=0),t[i].w=n,t[i].h=o,t[i].x=a*n,t[i].y=r*o,t[i].i=i,a++;return t},handleGotoPlugin:function(){this.$router.push({name:"Market",query:{tab:"deviceEditor"}})}}},m=f,h=(n("a4fd"),n("2877")),v=Object(h["a"])(m,o,a,!1,null,"5dfd0152",null);e["default"]=v.exports},9448:function(t,e,n){"use strict";var o=n("18a6");e["a"]={add:function(t){return Object(o["a"])({url:"/device/model/add",method:"post",data:t})},edit:function(t){return Object(o["a"])({url:"/device/model/edit",method:"post",data:t})},del:function(t){return Object(o["a"])({url:"/device/model/delete",method:"post",data:t})},page:function(t){return Object(o["a"])({url:"/device/model/list",method:"post",data:t})},tree:function(t){return Object(o["a"])({url:"/device/model/tree",method:"post",data:t})},category:function(t){return Object(o["a"])({url:"/dict/list/",method:"post",data:t})},map:function(t){return Object(o["a"])({url:"/device/map",method:"post",data:t})},equip:function(t){return Object(o["a"])({url:"/kv/current/symbol",method:"post",data:t})},state:function(t){return Object(o["a"])({url:"/device/status",method:"post",data:t})}}},a4fd:function(t,e,n){"use strict";n("2df4")},aa98:function(t,e,n){"use strict";n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return r})),n.d(e,"j",(function(){return i})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"x",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"t",(function(){return p})),n.d(e,"v",(function(){return f})),n.d(e,"w",(function(){return m})),n.d(e,"z",(function(){return h})),n.d(e,"r",(function(){return v})),n.d(e,"p",(function(){return b})),n.d(e,"A",(function(){return y})),n.d(e,"l",(function(){return g})),n.d(e,"a",(function(){return j})),n.d(e,"k",(function(){return O})),n.d(e,"e",(function(){return _})),n.d(e,"y",(function(){return w})),n.d(e,"q",(function(){return k})),n.d(e,"m",(function(){return C})),n.d(e,"n",(function(){return D})),n.d(e,"u",(function(){return x})),n.d(e,"o",(function(){return I})),n.d(e,"d",(function(){return N})),n.d(e,"s",(function(){return F}));var o=n("18a6");function a(t){return Object(o["a"])({url:"/index/show",method:"post",data:t})}function r(t){return Object(o["a"])({url:"/device/add_only",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/device/update_only",method:"post",data:t})}function u(t){return Object(o["a"])({url:"/device/delete",method:"post",data:t})}function d(t){return Object(o["a"])({url:"/device/data",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/structure/field",method:"post",data:t})}function s(t){return Object(o["a"])({url:"/kv/current",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/kv/current/detail",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/kv/history/data",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/kv/statistic",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/kv/statistic/batch",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/device/operating_device",method:"post",data:t})}function v(t){return Object(o["a"])({url:"/device/list/tree",method:"post",data:t})}function b(t){return Object(o["a"])({url:"/device/data",method:"post",data:t})}function y(t){return Object(o["a"])({url:"/device/update_only",method:"post",data:t})}function g(t){return Object(o["a"])({url:"/tp_script/list",method:"post",data:t})}function j(t){return Object(o["a"])({url:"/tp_script/add",method:"post",data:t})}function O(t){return Object(o["a"])({url:"/tp_script/edit",method:"post",data:t})}function _(t){return Object(o["a"])({url:"/tp_script/delete",method:"post",data:t})}function w(t){return Object(o["a"])({url:"/tp_script/quiz",method:"post",data:t})}function k(t){return Object(o["a"])({url:"/device/status",method:"post",data:t})}function C(t){return Object(o["a"])({url:"/device/command/history/list",method:"post",data:t})}function D(t){return Object(o["a"])({url:"/device/command/list",method:"post",data:t})}function x(t){return Object(o["a"])({url:"/device/command/send",method:"post",data:t})}function I(t){return Object(o["a"])({url:"/device/event/history/list",method:"post",data:t})}function N(t){return Object(o["a"])({url:"/kv/history/delete",method:"post",data:t})}function F(){return Object(o["a"])({url:"/home/system/time",method:"post"})}}}]);