(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0df403a","chunk-2d0b9205"],{"322b":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s}));a("d9e2"),a("d3b7");var r=a("6eee"),o=a("ed09"),n=a("2fa3"),i=a("854b");function s(){var e=Object(o["d"])().proxy,t=Object(r["b"])(),a=Object(o["i"])(),s=Object(o["i"])(!1),l=Object(o["i"])(!1),c=Object(o["h"])({email:"",password:"",phone:"",captcha:""}),p=Object(o["h"])({email:[{required:!0,message:e.$t("LOGIN.TITLE2"),validator:d}],password:[{required:!0,message:e.$t("LOGIN.TITLE3"),min:6}],phone:[{required:!0,message:e.$t("LOGIN.TITLE5"),min:11}],captcha:[{required:!0,message:e.$t("LOGIN.TITLE6"),max:16}]}),d=function(t,a,r){Object(n["e"])(a)&&r(),r(new Error(e.$t("LOGIN.TITLE4")))},u=Object(o["h"])({email:"",password:"",phone:"",captcha:""});function m(){var e=this;a.value.validate((function(a){a&&(s.value||(s.value=!0,Object(n["b"])(u),t.dispatch(i["e"],{email:c.email,password:c.password,phone_number:c.phone,verification_code:c.captcha}).then((function(t){200!==t.code&&"注册成功"!==t.message||e.$router.push("/login")})).finally((function(){setTimeout((function(){s.value=!1}),1e3)}))))}))}function f(r){a.value.validateField("phone",(function(a){a||s.value||(s.value=!0,Object(n["b"])(u),t.dispatch(i["f"],{phone_number:c.phone}).then((function(t){200!==t.code?u.captcha=e.$t("LOGIN.WRONG_PHONE"):(s.value=!1,r())})))}))}return{registerFormRef:a,formData:c,loading:s,smsCodeLoading:l,rules:p,errors:u,handleSubmit:m,sendCaptchaCode:f}}},a9ca:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"loginrow login-row-height"},[a("div",{staticClass:"login-form login-signin col-md-6"},[a("div",{staticClass:"shadow-lg"},[a("div",{staticClass:"card-body",staticStyle:{margin:"0 6%"}},[a("h5",{staticClass:"font-weight-light mb-1 text-mute-high",staticStyle:{"margin-bottom":"10px"}},[e._v("ThingsPanel")]),a("h2",{staticClass:"font-weight-normal mb-4"},[e._v(e._s(e.$t("LOGIN.SIGN_UP")))]),a("el-form",{ref:"registerFormRef",attrs:{model:e.formData,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}}},[a("el-form-item",{attrs:{prop:"email",error:e.errors.email}},[a("el-input",{attrs:{clearable:"","auto-complete":"on",name:"email","prefix-icon":"el-icon-message",placeholder:e.$t("LOGIN.EMAIL")},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email","string"===typeof t?t.trim():t)},expression:"formData.email"}})],1),a("el-form-item",{attrs:{prop:"phone",error:e.errors.phone}},[a("el-input",{attrs:{clearable:"","auto-complete":"on",name:"phone","prefix-icon":"el-icon-phone",placeholder:e.$t("LOGIN.PHONE_NUMBER")},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone","string"===typeof t?t.trim():t)},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{prop:"captcha",error:e.errors.captcha}},[a("el-input",{staticStyle:{width:"45%",display:"inline-block","margin-right":"10px"},attrs:{name:"captcha","prefix-icon":"el-icon-postcard",placeholder:e.$t("LOGIN.CAPTCHA")},model:{value:e.formData.captcha,callback:function(t){e.$set(e.formData,"captcha","string"===typeof t?t.trim():t)},expression:"formData.captcha"}}),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",disabled:e.isCapchaDisabled,loading:e.smsCodeLoading},on:{click:e.sendCode}},[e._v(e._s(e.buttonText))])],1),a("el-form-item",{attrs:{prop:"password",error:e.errors.password}},[a("el-input",{attrs:{type:"password","show-password":"",name:"password","prefix-icon":"el-icon-lock",placeholder:e.$t("LOGIN.PASSWORD")},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password","string"===typeof t?t.trim():t)},expression:"formData.password"}})],1),a("el-button",{staticClass:"w-100",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("LOGIN.SIGN_UP")))]),a("el-row",{staticClass:"row-bg",staticStyle:{"margin-top":"12px"},attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:16}},[a("a",{staticStyle:{color:"white"},attrs:{href:"/#/login"}},[e._v(e._s(e.$t("LOGIN.SIGN_IN_WITH_EXIST_ACCOUNT"))+">")])])],1)],1)],1)])])])])},o=[],n=a("322b"),i=a("ed09"),s=a("f570"),l=Object(i["c"])({name:"register",setup:function(){var e=Object(i["i"])(0),t=60,a=null,r=Object(i["i"])(!1),o=function(){try{console.debug(u),g(l)}catch(e){}},l=function(){e.value=t,r.value=!0,a=setInterval((function(){e.value>0?e.value--:(clearInterval(a),r.value=!1)}),1e3)},c=Object(i["a"])((function(){return e.value>0?"".concat(e.value," ")+s["a"].t("LOGIN.RESEND_TEXT"):s["a"].t("LOGIN.GET_SMS_CODE")}));Object(i["f"])((function(){a&&clearInterval(a)}));var p=Object(n["default"])(),d=p.registerFormRef,u=p.formData,m=p.loading,f=p.smsCodeLoading,h=p.rules,b=p.errors,g=p.sendCaptchaCode,v=p.handleSubmit;return{registerFormRef:d,formData:u,loading:m,smsCodeLoading:f,rules:h,errors:b,handleSubmit:v,sendCaptchaCode:g,isCapchaDisabled:r,buttonText:c,sendCode:o}}}),c=l,p=(a("c9f0"),a("2877")),d=Object(p["a"])(c,r,o,!1,null,"d8a8012a",null);t["default"]=d.exports},c9f0:function(e,t,a){"use strict";a("d341")},d341:function(e,t,a){}}]);